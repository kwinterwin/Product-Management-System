!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/codebase/",t(t.s=19)}([function(e,t,n){"use strict";n.d(t,"c",function(){return f});var r=n(21);n.d(t,"a",function(){return r.a});var i=n(1);n.d(t,"b",function(){return i.a});var o=(n(6),n(28),n(29),n(30),n(31)),a=n(32),s=n(35),u=n(36),c=n(37),l=n(38),p=n(39),f={UnloadGuard:o.a,Locale:a.a,Menu:s.a,Theme:c.a,User:p.a,Status:u.a,UrlParam:l.a};window.Promise||(window.Promise=webix.promise)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(4),i=n(5),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(e){function t(t,n){var r=e.call(this)||this;return r.app=t,r._name=n,r._children=[],r}return a(t,e),t.prototype.ui=function(e,t){t=t||{};var n=t.container||e.container,i=this.app.createView(e);return this._children.push(i),i.render(n,null,this),"object"!==(void 0===e?"undefined":o(e))||e instanceof r.a?i:i.getRoot()},t.prototype.show=function(e,t){var n=this;if(t=t||{},"string"==typeof e){if("/"===e.substr(0,1))return this.app.show(e);if(0===e.indexOf("../")){var r=this.getParentView();return void(r?r.show("./"+e.substr(3),t):this.app.show("/"+e.substr(3)))}0===e.indexOf("./")&&(e=e.substr(2));var a=this.getSubViewInfo(t.target);if(!a)return this.app.show("/"+e);if(a.parent!==this)return a.parent.show(e,t)}var s=Object(i.a)(this.app.getRouter().get());if("object"===(void 0===e?"undefined":o(e)))if(webix.isArray(e))s[this._index+e[0]].page=e[1],e="";else{var u=[];for(var c in e)u.push(encodeURIComponent(c)+"="+encodeURIComponent(e[c]));e="?"+u.join("&")}if("string"==typeof e){if("?"===e.substr(0,1)){var l=e.indexOf("/"),p=e;l>-1&&(p=e.substr(0,l));var f=Object(i.a)(p);webix.extend(s[this._index-1].params,f[0].params,!0),e=l>-1?e.substr(l+1):""}var h=""===e?s.slice(this._index):Object(i.a)(e),d=null;if(this._index){d=s.slice(0,this._index).concat(h);for(var v=0;v<d.length;v++)d[v].index=v+1;var g=Object(i.b)(d);return this.app.canNavigate(g,this).then(function(e){return g!==e?n.app.show(e):n._finishShow(d,e)}).catch(function(){return!1})}return this._finishShow(h,"")}},t.prototype.init=function(e,t){},t.prototype.ready=function(e,t){},t.prototype.config=function(){this.app.webix.message("View:Config is not implemented")},t.prototype.urlChange=function(e,t){},t.prototype.destroy=function(){},t.prototype.destructor=function(){this.destroy();for(var t=this._children,n=t.length-1;n>=0;n--)t[n]&&t[n].destructor&&t[n].destructor();this.app=this._children=null,this._root.destructor(),e.prototype.destructor.call(this)},t.prototype.use=function(e,t){e(this.app,this,t)},t.prototype._render=function(e){var t=this,n=this.config();return n.then?n.then(function(n){return t._render_final(n,e)}):this._render_final(n,e)},t.prototype._render_final=function(e,t){var n=this,r=this._container;if(r&&r.$destructed)return Promise.reject("Container destroyed");var i,o={ui:{}};this.app.copyConfig(e,o.ui,this._subs),this.app.callEvent("app:render",[this,t,o]),o.ui.$scope=this;try{if(r&&r.getParentView){var a=r.getParentView();a&&"multiview"===a.name&&!o.ui.id&&(o.ui.id=r.config.id)}this._root=this.app.webix.ui(o.ui,this._container),this._root.getParentView()&&(this._container=this._root),this._init(this._root,t),i=this._urlChange(t).then(function(){return n.ready(n._root,t)})}catch(e){i=Promise.reject(e)}return i.catch(function(e){return n._initError(n,e)})},t.prototype._init=function(e,t){return this.init(e,t)},t.prototype._urlChange=function(e){var t=this;this.app.callEvent("app:urlchange",[this,e,this._index]);var n=[];for(var r in this._subs){var o=this._subs[r];if(o.url)if("string"==typeof o.url){var a=Object(i.a)(o.url);a.map(function(e){e.index=0}),n.push(this._createSubView(o,a))}else{var s=o.view;"function"!=typeof o.url||s instanceof o.url||(s=new o.url(this.app,"")),s||(s=o.url),n.push(this._renderSubView(o,s,e))}else if("default"===r&&e&&e.length>1){var u=e.slice(1);n.push(this._createSubView(o,u))}}return Promise.all(n).then(function(){t.urlChange(t._root,e)})},t.prototype._initError=function(e,t){return this.app.error("app:error:initview",[t,e]),!0},t.prototype._createSubView=function(e,t){var n=this;return this.app.createFromURL(t,e.view).then(function(r){return n._renderSubView(e,r,t)})},t.prototype._renderSubView=function(e,t,n){var r=this.app.webix.$$(e.id);return t.render(r,n,this).then(function(n){return e.view&&e.view!==t&&e.view.destructor(),e.view=t,e.id=n.config.id,n})},t.prototype._finishShow=function(e,t){var n;return this._index?(n=this._renderPartial(e.slice(this._index-1)),this.app.getRouter().set(t,{silent:!0}),this.app.callEvent("app:route",[e])):(e.map(function(e){return e.index=0}),n=this._renderPartial([null].concat(e))),n},t.prototype._renderPartial=function(e){return this._init_url_data(e),this._urlChange(e)},t}(r.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(7),u=function(e){function t(n,o,a){r(this,t);var s=i(this,e.call(this,n,o));return s.isChange=!1,s.supplier=null,s}return o(t,e),t.prototype.config=function(){var e=this,t=this.app.getService("locale")._;return{view:"popup",width:800,modal:!0,position:"center",body:{rows:[{view:"toolbar",elements:[{view:"label",label:t("Add new supplier"),align:"left",headerLabel:!0},{view:"icon",icon:"mdi mdi-close",click:function(){e.hide()}}],padding:10},{view:"form",elements:[{rows:[{height:10},{view:"fieldset",label:t("Basic information of supplier"),body:{rows:[{view:"text",label:t("Supplier name"),name:"supplier_name",labelWidth:130,required:!0},{cols:[{view:"text",label:t("TIN"),name:"tin",required:!0},{width:10},{view:"text",label:t("Checkpoint"),name:"checkpoint",labelWidth:100,required:!0}]},{view:"textarea",label:t("Address"),name:"address",height:100,required:!0}]}},{height:20},{view:"fieldset",label:t("Contact information"),body:{rows:[{cols:[{view:"text",label:t("Surname"),name:"surname",required:!0},{width:5},{view:"text",label:t("Name"),labelWidth:60,name:"name",required:!0},{width:5},{view:"text",label:t("Patronymic"),labelWidth:100,name:"patronymic",required:!0}]},{height:10},{cols:[{view:"text",label:t("Phone"),labelWidth:60,name:"phone",required:!0},{width:5},{view:"text",label:t("E-mail"),labelWidth:60,name:"email"},{width:5},{view:"text",label:t("Fax"),labelWidth:60,name:"fax"}]}]}}]},{cols:[{},{view:"button",value:"Save",type:"form",click:function(){var t=e.getRoot().queryView({view:"form"});if(t.validate()){var n=t.getValues();e.isChange?s.a.updateItem(e.supplier.id,n):s.a.add(n),e.hide()}}},{}]}]}]}}},t.prototype.show=function(e){var t=this.app.getService("locale")._;this.isChange=!1;var n=this.getRoot().queryView({view:"form"}),r=this.getRoot().queryView({view:"button"}),i=this.getRoot().queryView({headerLabel:!0});this.getRoot().show(),n.clear(),r.setValue(t("Save")),i.setValue(t("Add new supplier")),e&&(this.isChange=!0,n.setValues(e),this.supplier=e,r.setValue(t("Change")),i.setValue(t("Change supplier information")))},t.prototype.hide=function(){this.getRoot().hide()},t}(a.b);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(8),u=n(9),c=(n.n(u),function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.defaultImg=u.defaultImage,a.photo=null,a}return o(t,e),t.prototype.config=function(){var e=this,t=this.app.getService("locale")._,n={view:"toolbar",elements:[{view:"label",label:t("Add new user"),align:"left",headerLabel:!0},{view:"icon",icon:"mdi mdi-close",click:function(){e.hide()}}],padding:10},r={view:"form",elements:[{view:"text",label:t("Surname"),name:"surname",labelWidth:150,required:!0},{view:"text",label:t("Name"),name:"name",labelWidth:150,required:!0},{view:"text",label:t("Patronymic"),name:"patronymic",labelWidth:150,required:!0},{view:"datepicker",label:t("Date of birth"),name:"date_of_birth",labelWidth:150,required:!0},{view:"text",label:t("Phone"),name:"phone",labelWidth:150,pattern:{mask:"+###-## ###-##-##"},required:!0},{view:"text",label:t("Position"),name:"position",labelWidth:150,required:!0},{view:"text",label:t("Login"),name:"login",labelWidth:150,required:!0},{view:"text",label:t("Password"),name:"password",labelWidth:150,required:!0,type:"password"},{view:"button",value:"Save",inputWidth:200,align:"right",click:function(){var t=e.getRoot().queryView({view:"form"});if(t.validate()){var n=t.getValues();if(e.photo){var r=e.photo,i=new FormData;i.append("upload",r),webix.ajax().post("/server/avatar",i).then(function(t){n.photo=t.filename,e.defaultImg="/server/"+n.photo,e.getRoot().queryView({view:"template"}).refresh(),e.manipulationUserInformation(n)})}else n.photo=null,e.manipulationUserInformation(n)}}},{height:10}],borderless:!0};return{view:"popup",width:800,modal:!0,position:"center",body:{rows:[n,{height:15},{cols:[{rows:[{view:"template",template:function(){return'\n                        <div class="avatar-block">\n                        <div class="avatar">\n                            <img src="'+e.defaultImg+'">\n                        </div>\n                        <div class="avatar-overlay hidden-block">\n                            <div class="form-group">\n                                <label class="label">\n                                    <i class="mdi mdi-camera"></i>\n                                    <span class="title">Change avatar</span>\n                                    <input type="file" accept="image/*">\n                                </label>\n                            </div>\n                        </div>\n                    </div>'},width:300,height:300,borderless:!0,on:{onAfterRender:function(){var t=document.querySelector(".avatar-block");t&&(t.addEventListener("mouseover",function(){t.querySelector(".avatar-overlay").classList.remove("hidden-block")}),t.addEventListener("mouseout",function(){t.querySelector(".avatar-overlay").classList.add("hidden-block")}));var n=t.querySelector("input");n&&n.addEventListener("change",function(){var t=n.files[0];e.photo=t,e.defaultImg=window.URL.createObjectURL(t),e.getRoot().queryView({view:"template"}).refresh()})}}}]},r]}]}}},t.prototype.manipulationUserInformation=function(e){this.isChange?s.a.updateItem(e.id,e):s.a.add(e),this.hide()},t.prototype.show=function(e){var t=this.getRoot().queryView({view:"form"}),n=this.app.getService("locale")._;this.defaultImg=u.defaultImage,this.isChange=!1;var r=t.queryView({view:"button"}),i=this.getRoot().queryView({headerLabel:!0});this.getRoot().show(),t.clear(),r.setValue(n("Save")),i.setValue(n("Add new user")),e&&(this.isChange=!0,t.setValues(e),e.photo&&(this.defaultImg=e.photo),r.setValue(n("Change")),i.setValue(n("Change user information"))),this.getRoot().queryView({view:"template"}).refresh()},t.prototype.hide=function(){this.getRoot().hide()},t}(a.b));t.default=c},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){this._id=webix.uid(),this._events=[],this._subs={},this._data={}}return e.prototype.getRoot=function(){return this._root},e.prototype.destructor=function(){for(var e=this._events,t=e.length-1;t>=0;t--)e[t].obj.detachEvent(e[t].id);for(var n in this._subs){var r=this._subs[n].view;r&&r.destructor()}this._events=this._container=this.app=this._parent=null},e.prototype.setParam=function(e,t,n){this._data[e]!==t&&(this._data[e]=t,this.app.callEvent("app:paramchange",[this,e,t,n])&&n&&this.show((r={},r[e]=t,r)));var r},e.prototype.getParam=function(e,t){var n=this._data[e];if(void 0!==n||!t)return n;var r=this.getParentView();return r?r.getParam(e,t):void 0},e.prototype.getUrl=function(){return this._url},e.prototype.render=function(e,t,n){var r=this;this._parent=n,t&&(this._index=t[0].index),this._init_url_data(t),e=e||document.body;var i="string"==typeof e?webix.toNode(e):e;return this._container!==i?(this._container=i,this._render(t).then(function(){return r.getRoot()})):this._urlChange(t).then(function(){return r.getRoot()})},e.prototype.getIndex=function(){return this._index},e.prototype.getId=function(){return this._id},e.prototype.getParentView=function(){return this._parent},e.prototype.$$=function(e){return"string"==typeof e?this.getRoot().queryView(function(t){return t.config.id===e||t.config.localId===e},"self"):e},e.prototype.on=function(e,t,n){var r=e.attachEvent(t,n);return this._events.push({obj:e,id:r}),r},e.prototype.contains=function(e){for(var t in this._subs){var n=this._subs[t].view;if(n===e||n.contains(e))return!0}return!1},e.prototype.getSubView=function(e){var t=this.getSubViewInfo(e);if(t)return t.subview.view},e.prototype.getSubViewInfo=function(e){var t=this._subs[e||"default"];return t?{subview:t,parent:this}:this._parent?this._parent.getSubViewInfo(e):null},e.prototype.getName=function(){return this._name},e.prototype._init_url_data=function(e){e&&e[0]&&(this._data={},webix.extend(this._data,e[0].params,!0)),this._url=e},e}()},function(e,t,n){"use strict";function r(e){"/"===e[0]&&(e=e.substr(1));for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r],o={},a=i.indexOf(":");if(-1===a&&(a=i.indexOf("?")),-1!==a)for(var s=i.substr(a+1).split(/[\:\?\&]/g),u=0,c=s;u<c.length;u++){var l=c[u],p=l.split("=");o[p[0]]=decodeURIComponent(p[1])}n[r]={page:a>-1?i.substr(0,a):i,params:o,index:r+1}}return n}function i(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];t.push("/"+i.page);var a=o(i.params);a&&t.push("?"+a)}return t.join("")}function o(e){var t=[];for(var n in e)t.length&&t.push("&"),t.push(n+"="+encodeURIComponent(e[n]));return t.join("")}t.a=r,t.b=i},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(24),i=n.n(r),o=function(){function e(e,t){var n=this;this.config=t||{},this._prefix=this.config.routerPrefix,void 0===this._prefix&&(this._prefix="!");var r=function(e){};i()(this._prefix+"*",function(e){return n._lastUrl="",r(n.get())}),r=e}return e.prototype.set=function(e,t){if(this.config.routes){var n=e.split("?",2);for(var r in this.config.routes)if(this.config.routes[r]===n[0]){e=r+(n.length>1?"?"+n[1]:"");break}}this._lastUrl=e,i.a.navigate(this._prefix+e,t)},e.prototype.get=function(){var e=this._lastUrl||(window.location.hash||"").replace("#"+this._prefix,"");if(this.config.routes){var t=e.split("?",2),n=this.config.routes[t[0]];n&&(e=n+(t.length>1?"?"+t[1]:""))}return e},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=new webix.DataCollection({url:"/server/suppliers",save:"rest->/server/suppliers"})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=new webix.DataCollection({url:"/server/users",save:"rest->/server/users"})},function(e,t){var n={user:"root",password:"1997anna",host:"localhost"};e.exports={DBConfig:n,defaultImage:"https://i.stack.imgur.com/aLNNU.png"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.config=function(){var e=this.app.getService("locale")._;return{cols:[{view:"sidebar",localId:"sidebar",width:300,data:[{id:"goodsCategoriesTree",value:e("Good's categories"),icon:"mdi mdi-arrow-right-thick"},{id:"productsByCategories",value:e("Products by categories"),icon:"mdi mdi-arrow-right-thick"},{id:"productsPlacement",value:e("Product's placement"),icon:"mdi mdi-arrow-right-thick"}]},{$subview:!0}]}},t.prototype.init=function(){this.use(a.c.Menu,"sidebar")},t}(a.b);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(27),u=function(e){function t(n,o,a){r(this,t);var s=i(this,e.call(this,n,o));return s.selectTreeItemId=null,s}return o(t,e),t.prototype.config=function(){var e=this,t=this.app.getService("locale")._,n={view:"tree",id:"myTree",select:!0,template:function(e,t,n,r){return"root"===e.id?t.icon(e,t,n,r)+t.folder(e,t,n,r)+"<b>"+e.name+"</b>":t.icon(e,t,n,r)+t.folder(e,t,n,r)+e.name},on:{onBeforeContextMenu:function(t){var n=e.getRoot().queryView({view:"tree"}),r=n.getItem(t);n.select(t);var i=webix.$$("contextmenu-mine");r.$level>2?(i.isItemEnabled("Add")&&i.disableItem("Add"),e.selectTreeItemId=t):(i.isItemEnabled("Add")||i.enableItem("Add"),e.selectTreeItemId=t)},onItemDblClick:function(t){e.getRoot().queryView({view:"tree"}).open(t)}}},r={view:"form",elements:[{view:"richselect",labelWidth:150,label:t("Parent category"),options:{body:{data:s.a,template:"#name#"}},disabled:!0,name:"parent"},{view:"text",label:t("Category's name"),labelWidth:150,required:!0,name:"name"},{view:"button",value:t("Save"),inputWidth:200,align:"right",click:function(){e.getRoot().queryView({addedCategoryLayout:!0}).hide();var t=e.getRoot().queryView({view:"form"});if(t.validate()){var n=t.getValues(),r=e.getRoot().queryView({view:"tree"}),i=r.getItem(n.parent);r.data.add(n,i.$count,n.parent),"root"===n.parent&&(n.parent=null),s.a.add(n)}}}]};return{rows:[n,{rows:[{view:"toolbar",elements:[{view:"label",label:t("Add new category"),align:"left",headerLabel:!0}],padding:10},r],hidden:!0,addedCategoryLayout:!0}]}},t.prototype.init=function(){var e=this,t=[{id:"root",name:"Категории товаров",data:[],value:"Категории товаров"}],n=new Map;s.a.waitData.then(function(){s.a.data.each(function(e){if(e.value=e.name,e.parent){n.get(e.parent).data.push(e)}else e.data=[],n.set(e.id,e)});for(var r=n.keys(),i=Array.isArray(r),o=0,r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if(o=r.next(),o.done)break;a=o.value}var u=a,c=n.get(u);t[0].data.push(c)}e.getRoot().queryView({view:"tree"}).parse(t)})},t.prototype.ready=function(){var e=this,t=this.getRoot().queryView({view:"tree"});this.ui({view:"contextmenu",id:"contextmenu-mine",data:["Add",{$template:"Separator"},"Delete"],on:{onItemClick:function(t){var n=webix.$$("contextmenu-mine").getItem(t).value;if("Add"===n){var r=e.getRoot().queryView({addedCategoryLayout:!0});e.getRoot().queryView({view:"form"}).clear(),r.isVisible()?e.getRoot().queryView({view:"richselect"}).setValue(e.selectTreeItemId):(r.show(),e.getRoot().queryView({view:"richselect"}).setValue(e.selectTreeItemId))}else"Delete"===n&&(s.a.remove(e.selectTreeItemId),e.getRoot().queryView({view:"tree"}).remove(e.selectTreeItemId))}}}).attachTo(t)},t}(a.b);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.config=function(){var e=this,t=this.app.getService("locale")._;return{rows:[{view:"toolbar",margin:-20,paddingX:70,css:"grayToolbar",cols:[{view:"label",label:t("Product Management System"),align:"left"},{view:"button",label:t("Login"),width:100,align:"right",type:"icon",click:function(){!1===e.$$("loginForm").isVisible()&&(e.$$("loginForm").show(),e.$$("registerForm").hide())}},{view:"button",label:t("Register"),width:100,align:"right",type:"icon",click:function(){!1===e.$$("registerForm").isVisible()&&(e.$$("loginForm").hide(),e.$$("registerForm").show())}}]},{height:40},{cols:[{},{view:"form",localId:"loginForm",width:700,css:"form",paddingX:90,elements:[{view:"template",template:t("Login"),type:"header",borderless:!0},{view:"text",label:t("Login"),name:"login",labelWidth:150,invalidMessage:"Login can't be empty."},{view:"text",label:t("Password"),type:"password",name:"password",labelWidth:150,invalidMessage:"Password can't be empty."},{cols:[{width:150},{view:"button",value:t("Login"),click:function(){return e.do_login()},hotkey:"enter",localId:"loginBtn",inputWidth:100,width:120}]}],rules:{login:webix.rules.isNotEmpty,password:webix.rules.isNotEmpty}},{view:"form",localId:"registerForm",width:600,css:"form",paddingX:90,hidden:!0,elements:[{view:"template",template:t("Register"),type:"header",borderless:!0,localId:"header"},{view:"text",label:t("Login"),name:"login",labelWidth:150,invalidMessage:t("Login can't be empty."),localId:"loginField"},{view:"text",label:t("Password"),type:"password",name:"password",labelWidth:150,invalidMessage:t("Password can't be empty.")},{view:"text",label:t("Confirm password"),type:"password",name:"confirm_password",labelWidth:150,invalidMessage:t("This field can't be empty.")},{cols:[{width:150},{view:"button",value:t("Register"),click:function(){e.authorization()},hotkey:"enter",localId:"authorizBtn",inputWidth:100}]}],rules:{login:webix.rules.isNotEmpty,password:webix.rules.isNotEmpty}},{}]},{}]}},t.prototype.init=function(e){e.$view.querySelector("input").focus()},t.prototype.authorization=function(){var e=this,t=this.app.getService("locale")._,n=this.$$("registerForm"),r=n.getValues();r.password===r.confirm_password?(delete r.confirm_password,n.validate()&&webix.ajax().post("/server/login/authorization",r).then(function(n){n.json().hasOwnProperty("message")?webix.message({type:"error",text:n.json().message}):(webix.message({type:"debug",text:t("Successful registration")}),e.$$("registerForm").clear(),e.$$("registerForm").hide(),e.$$("loginForm").show())})):webix.message({type:"error",text:t("Passwords do not match!")})},t.prototype.do_login=function(){var e=this.app.getService("user"),t=this.$$("loginForm");if(t.validate()){var n=t.getValues();e.login(n.login,n.password)}},t}(a.b);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.config=function(){var e=this,t=this.app.getService("locale")._,n=this.app.getService("locale").getLang();return{rows:[{name:"lang",optionWidth:120,view:"segmented",label:t("Language"),options:[{id:"en",value:"English"},{id:"ru",value:"Russian"}],click:function(){return e.toggleLanguage()},value:n},{}],padding:40}},t.prototype.toggleLanguage=function(){var e=this.app.getService("locale"),t=this.getRoot().queryView({name:"lang"}).getValue();e.setLang(t)},t}(a.b);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.config=function(){var e=this,t=this.app.getService("locale")._,n={view:"toolbar",elements:[{view:"icon",icon:"mdi mdi-menu",click:function(){var t=e.getRoot().queryView({roles:"sidebars"}).getChildViews(),n=void 0;t.forEach(function(e){!1===e.config.hidden&&(n=e)}),n.toggle()}},{view:"label",label:t("Product Management System"),align:"left"},{view:"label",label:"",align:"center",localId:"nameLabel"},{view:"button",label:t("Logout"),width:150,align:"right",type:"icon",icon:"mdi mdi-logout",click:function(){e.show("/logout")}}]},r={view:"sidebar",localId:"adminSidebar",width:200,hidden:!0,data:[{id:"suppliers",value:t("Suppliers"),icon:"mdi mdi-car-pickup"},{id:"goods",value:t("Goods"),icon:"mdi mdi-briefcase"},{id:"",value:t("Reports"),icon:"mdi mdi-clipboard-text"},{id:"",value:t("Purchase proposals"),icon:"mdi mdi-book"},{id:"users",value:t("Users"),icon:"mdi mdi-account-group"},{id:"settings",value:t("Settings"),icon:"mdi mdi-cogs"}]};return{rows:[n,{cols:[{rows:[{view:"sidebar",hidden:!0,localId:"userSidebar",data:[{id:"",value:t("Compose a new proposal")},{id:"",value:t("Product registration")},{id:"",value:t("Product searching")},{id:"",value:t("Goods releasing")},{id:"",value:t("Reports making")}]},r,{height:1}],roles:"sidebars"},{$subview:!0}]}]}},t.prototype.init=function(){this.use(a.c.Menu,"adminSidebar"),this.use(a.c.Menu,"userSidebar");var e=this.app.getService("user"),t=e.getUser();"user"===t.role?this.$$("userSidebar").show():"admin"===t.role&&this.$$("adminSidebar").show()},t}(a.b);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(2),u=n(7),c=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.config=function(){var e=this,t=this.app.getService("locale")._;return{rows:[{view:"toolbar",padding:20,elements:[{view:"icon",icon:"mdi mdi-car-pickup",css:"mdi-toolbar-icons",width:70,height:40},{view:"label",label:t("Suppliers"),align:"left"},{view:"button",label:t("Add new supplier"),width:250,align:"right",type:"icon",icon:"mdi mdi-account-multiple-plus",click:function(){e.addNewSupplierPopup.show()}}],css:"main-layout-toolbar"},{view:"datatable",data:u.a,columns:[{id:"id",header:"",width:50},{id:"supplier_name",header:"Supplier name",fillspace:!0},{id:"tin",header:"TIN",width:150},{id:"surname",header:"Surname",width:200},{id:"name",header:"Name",width:100},{id:"patronymic",header:"Patronymic",width:200},{id:"phone",header:"Phone",width:200},{id:"editInformation",header:"",template:"<i class='mdi mdi-lead-pencil'></i>",width:40}],onClick:{"mdi-lead-pencil":function(t,n){var r=e.getRoot().queryView({view:"datatable"}).getItem(n.row);e.addNewSupplierPopup.show(r)}}}]}},t.prototype.init=function(){this.addNewSupplierPopup=this.ui(s.default)},t}(a.b);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(3),u=n(8),c=n(9),l=(n.n(c),function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.defaultImg=c.defaultImage,a}return o(t,e),t.prototype.config=function(){var e=this,t=this.app.getService("locale")._;return{rows:[{view:"toolbar",padding:20,elements:[{view:"icon",icon:"mdi mdi-account-group",css:"mdi-toolbar-icons",width:70,height:40},{view:"label",label:t("Users"),align:"left"},{view:"button",label:t("Add new user"),width:250,align:"right",type:"icon",icon:"mdi mdi-account-multiple-plus",click:function(){e.addNewUserPopup.show()}}],css:"main-layout-toolbar"},{view:"dataview",select:!1,css:"users",type:{width:400,height:160,template:function(t){return'\n                        <div class=\'overall\'>\n                            <span class=\'mdi mdi-lead-pencil\' title="Edit user information"></span>\n                            <span class=\'mdi mdi-delete\' title="Delete user"></span>\n                            <div class="avatar">\n                                <img src="'+(t.photo?t.photo:e.defaultImg)+'">\n                            </div>\n                            <div class="user_information">\n                                <div class=\'snp\'>'+t.surname+" "+t.name+" "+t.patronymic+"</div>\n                                <div class=''>"+t.position+"</div>\n                                <div>"+e.formatedDate(t.date_of_birth)+'</div>\n                                <div class="phone"><span>Phone:</span> '+t.phone+"</div> \n                            </div>\n                        </div>"}},data:u.a,onClick:{"mdi-lead-pencil":function(t,n){var r=e.getRoot().queryView({view:"dataview"});e.addNewUserPopup.show(r.getItem(n))},"mdi-delete":function(t,n){var r=e.getRoot().queryView({view:"dataview"});u.a.remove(r.getItem(n).id)}}}]}},t.prototype.formatedDate=function(e){var t=new Date(Date.parse(e));return t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear()},t.prototype.init=function(){this.addNewUserPopup=this.ui(s.default)},t}(a.b));t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"Product Management System":"Product Management System",Login:"Login",Register:"Register",Password:"Password","Confirm password":"Confirm password","Successful registration":"Successful registration","Passwords do not match!":"Passwords do not match!","Password can't be empty.":"Password can't be empty.","This field can't be empty.":"This field can't be empty.","Login can't be empty.":"Login can't be empty.",Logout:"Logout",Suppliers:"Suppliers",Goods:"Goods",Reports:"Reports","Purchase proposals":"Purchase proposals",Users:"Users",Settings:"Settings","Compose a new proposal":"Compose a new proposal","Product registration":"Product registration","Product searching":"Product searching","Goods releasing":"Goods releasing","Reports making":"Reports making",Language:"Language"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"Product Management System":"Система управления продуктом",Login:"Вход",Register:"Регистрация",Password:"Пароль","Confirm password":"Подтверждение пароля","Successful registration":"Регистрация успешна","Passwords do not match!":"Пароли не совпадают!","Password can't be empty.":"Пароль не может быть пустым.","This field can't be empty.":"Поле не может быть пустым.","Login can't be empty.":"Логин не может быть пустым.",Logout:"Выход",Suppliers:"Поставщики",Goods:"Товары",Reports:"Отчеты","Purchase proposals":"Заявки на закупку",Users:"Пользователи",Settings:"Настройки","Compose a new proposal":"Составление новой заявки","Product registration":"Регистрация товара","Product searching":"Поиск товара","Goods releasing":"Списывание товара","Reports making":"Составление отчета",Language:"Язык"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i=(n.n(r),n(0)),o=n(40);webix.ready(function(){var e=new i.a({id:"webix-jet-app",version:"1.0.3",start:"/start",debug:!0});e.use(i.c.User,{model:o.a}),e.use(i.c.Locale,{lang:"en"}),e.render()})},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(4),i=n(1),o=n(22),a=n(23),s=n(6),u=n(5),c=n(25),l=(n.n(c),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(e){function t(t){var n=e.call(this)||this;return n.webix=t.webix||webix,n.config=n.webix.extend({name:"App",version:"1.0",start:"/home"},t,!0),n._name=n.config.name,n._services={},webix.extend(n,webix.EventSystem),n}return p(t,e),t.prototype.getService=function(e){var t=this._services[e];return"function"==typeof t&&(t=this._services[e]=t(this)),t},t.prototype.setService=function(e,t){this._services[e]=t},t.prototype.copyConfig=function(e,n,r){if(e.$ui?e={$subview:new o.a(this,"",e)}:e instanceof t&&(e={$subview:e}),e.$subview)return this.addSubView(e,n,r);n=n||(e instanceof Array?[]:{});for(var i in e){var a=e[i];"function"==typeof a&&a.prototype&&a.prototype.config&&(a={$subview:a}),!a||"object"!==(void 0===a?"undefined":l(a))||a instanceof webix.DataCollection?n[i]=a:a instanceof Date?n[i]=new Date(a):n[i]=this.copyConfig(a,a instanceof Array?[]:{},r)}return n},t.prototype.getRouter=function(){return this.$router},t.prototype.clickHandler=function(e){if(e){var t=e.target||e.srcElement;if(t&&t.getAttribute){var n=t.getAttribute("trigger");n&&this.trigger(n);var r=t.getAttribute("route");r&&this.show(r)}}},t.prototype.refresh=function(){var e=this._container;this._view.destructor(),this._view=this._container=null,this.render(e,Object(u.a)(this.getRouter().get()),this._parent)},t.prototype.loadView=function(e){var t=this,r=this.config.views,i=null;if(""===e)return Promise.resolve(this._loadError("",new Error("Webix Jet: Empty url segment")));try{if(r&&"string"==typeof(i="function"==typeof r?r(e):r[e])&&(e=i,i=null),!i){e=e.replace(/\./g,"/");var o=n(26)("./"+e);o.__esModule&&(o=o.default),i=o}}catch(t){i=this._loadError(e,t)}return i.then||(i=Promise.resolve(i)),i=i.catch(function(n){return t._loadError(e,n)})},t.prototype.createFromURL=function(e,t){var n=this,r=e[0],i=r.page;return t&&t.getName()===i?Promise.resolve(t):this.loadView(r.page).then(function(e){return n.createView(e,i)})},t.prototype.createView=function(e,n){if("function"==typeof e){if(e.prototype&&e.prototype.show)return new e(this,n);e=e()}return e instanceof t||e instanceof i.a?e:e.$ui?new o.a(this,n,e):new a.a(this,n,e)},t.prototype.show=function(e){if(this.$router.get()===e)return Promise.resolve(!0);this._render(e)},t.prototype.canNavigate=function(e,t){var n={url:Object(u.a)(e),redirect:e,confirm:Promise.resolve(!0)};return this.callEvent("app:guard",[e,t||this._view,n])?n.confirm.then(function(){return n.redirect}):Promise.reject("")},t.prototype.destructor=function(){this._view.destructor()},t.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.apply(e,t)},t.prototype.apply=function(e,t){this.callEvent(e,t)},t.prototype.action=function(e){return this.webix.bind(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.apply(e,t)},this)},t.prototype.on=function(e,t){this.attachEvent(e,t)},t.prototype.use=function(e,t){e(this,null,t)},t.prototype.error=function(e,t){if(this.callEvent(e,t),this.callEvent("app:error",t),this.config.debug)for(var n=0;n<t.length;n++)if(console.error(t[n]),t[n]instanceof Error){var r=t[n].message;0===r.indexOf("Module build failed")?(r=r.replace(/\x1b\[[0-9;]*m/g,""),document.body.innerHTML="<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>"+r+"</pre>"):(r+="<br><br>Check console for more details",webix.message({type:"error",text:r,expire:-1}))}},t.prototype._render=function(e){var t=this;!this.$router&&(webix.attachEvent("onClick",function(e){return t.clickHandler(e)}),e=this._first_start(e));var n="string"==typeof e?e:Object(u.b)(e);return this.canNavigate(n).then(function(e){return t.$router.set(e,{silent:!0}),t._render_stage(e)}).catch(function(){return!1})},t.prototype._render_stage=function(e){var t=this,n="string"==typeof e?Object(u.a)(e):e;return webix.ui.freeze(function(){return t.createFromURL(n,t._view).then(function(e){var r=t._view;return t._view=e,e.render(t._container,n,t._parent).then(function(i){return r&&r!==t._view&&r.destructor(),t._view.getRoot().getParentView()&&(t._container=i),t._root=i,t.callEvent("app:route",[n]),e})}).catch(function(e){t.error("app:error:render",[e])})})},t.prototype._urlChange=function(e){return alert("Not implemented"),Promise.resolve(!0)},t.prototype._first_start=function(e){var t=this,n=function(e){return setTimeout(function(){t._render(e)},1)};if(this.$router=new(this.config.router||s.a)(n,this.config),this._container===document.body&&!1!==this.config.animation){var r=this._container;webix.html.addCss(r,"webixappstart"),setTimeout(function(){webix.html.removeCss(r,"webixappstart"),webix.html.addCss(r,"webixapp")},10)}return e&&1!==e.length||(e=this.$router.get()||this.config.start,this.$router.set(e,{silent:!0})),e},t.prototype._loadError=function(e,t){return this.error("app:error:resolve",[t,e]),{template:" "}},t.prototype.addSubView=function(e,t,n){var r=!0!==e.$subview?e.$subview:null,o=e.name||(r?this.webix.uid():"default");t.id=e.id||"s"+this.webix.uid();var a=n[o]={id:t.id,url:r};return a.url instanceof i.a&&(a.view=a.url),t},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i._ui=r,i._windows=[],i}return i(t,e),t.prototype.getRoot=function(){if(this.app.config.jet1xMode){var e=this.getParentView();if(e)return e.getRoot()}return this._root},t.prototype.config=function(){return this._ui.$ui||this._ui},t.prototype.destructor=function(){var t=this._ui.$ondestroy;t&&t();for(var n=0,r=this._windows;n<r.length;n++){r[n].destructor()}e.prototype.destructor.call(this)},t.prototype.show=function(t,n){if(0===t.indexOf("/")||0===t.indexOf("./"))return e.prototype.show.call(this,t,n);e.prototype.show.call(this,"../"+t,n)},t.prototype.init=function(){this.app.config.legacyEarlyInit&&this._realInitHandler()},t.prototype.ready=function(){this.app.config.legacyEarlyInit||this._realInitHandler()},t.prototype._realInitHandler=function(){var e=this._ui.$oninit;if(e){var n=this.getRoot();e(n,n.$scope)}var r=this._ui.$onevent;if(r)for(var i in r)this.on(this.app,i,r[i]);var o=this._ui.$windows;if(o)for(var a=0,s=o;a<s.length;a++){var u=s[a];if(u.$ui){var c=new t(this.app,this.getName(),u);c.render(document.body),this._windows.push(c)}else this.ui(u)}},t.prototype._urlChange=function(t){var n=this;return e.prototype._urlChange.call(this,t).then(function(){var e=n._ui.$onurlchange;if(e){var r=n.getRoot();e(t[0].params,t.slice(1),r.$scope)}})},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i._ui=r,i}return i(t,e),t.prototype.config=function(){return this._ui},t}(r.a)},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){var n,i=[],o={},a=e.routie,s=function(e,t){this.name=t,this.path=e,this.keys=[],this.fns=[],this.params={},this.regex=u(this.path,this.keys,!1,!1)};s.prototype.addHandler=function(e){this.fns.push(e)},s.prototype.removeHandler=function(e){for(var t=0,n=this.fns.length;t<n;t++){if(e==this.fns[t])return void this.fns.splice(t,1)}},s.prototype.run=function(e){for(var t=0,n=this.fns.length;t<n;t++)if(!1===this.fns[t].apply(this,e))return!1;return!0},s.prototype.match=function(e,t){var n=this.regex.exec(e);if(!n)return!1;for(var r=1,i=n.length;r<i;++r){var o=this.keys[r-1],a="string"==typeof n[r]?decodeURIComponent(n[r]):n[r];o&&(this.params[o.name]=a),t.push(a)}return!0},s.prototype.toURL=function(e){var t=this.path;for(var n in e)t=t.replace("/:"+n,"/"+e[n]);if(t=t.replace(/\/:.*\?/g,"/").replace(/\?/g,""),-1!=t.indexOf(":"))throw new Error("missing parameters for url: "+t);return t};var u=function(e,t,n,r){return e instanceof RegExp?e:(e instanceof Array&&(e="("+e.join("|")+")"),e=e.concat(r?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,r,i,o,a){return t.push({name:i,optional:!!a}),n=n||"",(a?"":n)+"(?:"+(a?n:"")+(r||"")+(o||r&&"([^/.]+?)"||"([^/]+?)")+")"+(a||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+e+"$",n?"":"i"))},c=function(e,t){var n=e.split(" "),r=2==n.length?n[0]:null;e=2==n.length?n[1]:n[0],o[e]||(o[e]=new s(e,r),i.push(o[e])),o[e].addHandler(t)},l=function e(t,n){if("function"==typeof n)c(t,n),e.reload();else if("object"==(void 0===t?"undefined":r(t))){for(var i in t)c(i,t[i]);e.reload()}else void 0===n&&e.navigate(t)};l.lookup=function(e,t){for(var n=0,r=i.length;n<r;n++){var o=i[n];if(o.name==e)return o.toURL(t)}},l.remove=function(e,t){var n=o[e];n&&n.removeHandler(t)},l.removeAll=function(){o={},i=[],n=""},l.navigate=function(e,t){t=t||{};var n=t.silent||!1;n&&v(),setTimeout(function(){window.location.hash=e,n&&setTimeout(function(){d()},1)},1)},l.noConflict=function(){return e.routie=a,l};var p=function(){return window.location.hash.substring(1)},f=function(e,t){var n=[];return t.match(e,n)?!1!==t.run(n)?1:0:-1},h=l.reload=function(){for(var e=p(),t=0,r=i.length;t<r;t++){var o=i[t],a=f(e,o);if(1===a){n=e;break}if(0===a){l.navigate(n,{silent:!0});break}}},d=function(){e.addEventListener?e.addEventListener("hashchange",h,!1):e.attachEvent("onhashchange",h)},v=function(){e.removeEventListener?e.removeEventListener("hashchange",h):e.detachEvent("onhashchange",h)};if(d(),n=p(),t)return l;e.routie=l};e.exports=i(window,!0),e.exports.default=e.exports},function(e,t){var n=webix,r=webix.version.split(".");10*r[0]+1*r[1]<52&&(n.ui.freeze=function(e){var t=e();return t&&t.then?t.then(function(e){return n.ui.$freeze=!1,n.ui.resize(),e}):(n.ui.$freeze=!1,n.ui.resize()),t})},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./addNewSupplierPopup":2,"./addNewSupplierPopup.js":2,"./addNewUserPopup":3,"./addNewUserPopup.js":3,"./goods":10,"./goods.js":10,"./goodsCategoriesTree":11,"./goodsCategoriesTree.js":11,"./login":12,"./login.js":12,"./settings":13,"./settings.js":13,"./start":14,"./start.js":14,"./suppliers":15,"./suppliers.js":15,"./users":16,"./users.js":16};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=26},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=new webix.DataCollection({url:"/server/goods_categories",save:"rest->/server/goods_categories"})},function(e,t,n){"use strict";!function(){function e(e,t){this.name=t.storeName||t.id+":route",this.cb=e}e.prototype.set=function(e,t){var n=this;webix.storage.session.put(this.name,e),t&&t.silent||setTimeout(function(){return n.cb(e)},1)},e.prototype.get=function(){return webix.storage.session.get(this.name)}}()},function(e,t,n){"use strict";!function(){function e(e,t){var n=this;this.cb=e,window.onpopstate=function(){return n.cb(n.get())},this.prefix=t.routerPrefix||""}e.prototype.set=function(e,t){var n=this;this.get()!=e&&window.history.pushState(null,null,this.prefix+e),t&&t.silent||setTimeout(function(){return n.cb(e)},1)},e.prototype.get=function(){var e=window.location.pathname.replace(this.prefix,"");return"/"!==e?e:""}}()},function(e,t,n){"use strict";!function(){function e(e,t){this.path="",this.cb=e}e.prototype.set=function(e,t){var n=this;this.path=e,t&&t.silent||setTimeout(function(){return n.cb(e)},1)},e.prototype.get=function(){return this.path}}()},function(e,t,n){"use strict";function r(e,t,n){t.on(e,"app:guard",function(e,r,i){if(r===t||r.contains(t)){var o=n();i.confirm=!1===o?Promise.reject(o):i.confirm.then(function(){return o})}})}t.a=r},function(e,t,n){"use strict";function r(e,t,r){r=r||{};var i=r.storage,a=i?i.get("lang")||"en":r.lang||"en",s={_:null,polyglot:null,getLang:function(){return a},setLang:function(t,u){var c=(r.path?r.path+"/":"")+t,l=n(34)("./"+c);l.__esModule&&(l=l.default);var p=s.polyglot=new o.a({phrases:l});p.locale(t),s._=webix.bind(p.t,p),a=t,i&&i.put("lang",a),u||e.refresh()}};e.setService("locale",s),s.setLang(a,!0)}t.a=r;var i=n(33),o=n.n(i)},function(e,t,n){var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,o){r=[],void 0!==(i=function(){return o(n)}.apply(t,r))&&(e.exports=i)}(this,function(e){"use strict";function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||c}function n(e){var t,n,r,i={};for(t in e)if(e.hasOwnProperty(t)){n=e[t];for(r in n)i[n[r]]=t}return i}function r(e){var t=/^\s+|\s+$/g;return e.replace(t,"")}function i(e,t,n){var i,o,a;return null!=n&&e?(o=e.split(p),a=o[s(t,n)]||o[0],i=r(a)):i=e,i}function a(e){var t=n(h);return t[e]||t.en}function s(e,t){return f[a(e)](t)}function u(e,t){for(var n in t)"_"!==n&&t.hasOwnProperty(n)&&(e=e.replace(new RegExp("%\\{"+n+"\\}","g"),t[n]));return e}function c(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function l(e){var t={};for(var n in e)t[n]=e[n];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var n;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],t&&(r=t+"."+r),"object"===(void 0===n?"undefined":o(n))?this.extend(n,r):this.phrases[r]=n)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var n,r;return t=null==t?{}:t,"number"==typeof t&&(t={smart_count:t}),"string"==typeof this.phrases[e]?n=this.phrases[e]:"string"==typeof t._?n=t._:this.allowMissing?n=e:(this.warn('Missing translation for key: "'+e+'"'),r=e),"string"==typeof n&&(t=l(t),r=i(n,this.currentLocale,t.smart_count),r=u(r,t)),r},t.prototype.has=function(e){return e in this.phrases};var p="||||",f={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},h={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t})},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./en":17,"./en.js":17,"./ru":18,"./ru.js":18};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=34},function(e,t,n){"use strict";function r(e,t,n){t.urls&&(n=t.urls[n]||n),e.show("./"+n)}function i(e,t,n){var i=t.$$(n.id||n),o=!1;i.attachEvent("onchange",function(){o||r(t,n,this.getValue())}),i.attachEvent("onafterselect",function(){if(!o){var e=null;i.setValue?e=this.getValue():i.getSelectedId&&(e=i.getSelectedId()),r(t,n,e)}}),t.on(e,"app:route",function(e){var n=e[t.getIndex()];if(n){o=!0;var r=n.page;i.setValue&&i.getValue()!==r?i.setValue(r):i.select&&i.exists(r)&&i.getSelectedId()!==r&&i.select(r),o=!1}})}t.a=i},function(e,t,n){"use strict";function r(e,t,n){function r(e){var r=t.$$(n.target);r&&(e||(e="<div class='status_"+h+"'><span class='webix_icon fa-"+y[h]+"'></span> "+w[h]+"</div>"),r.setHTML(e))}function a(){d--,p("good")}function s(e){d--,p("error",e)}function u(e){d++,p("saving"),e&&e.then&&e.then(a,s)}function c(){return h}function l(){0==d&&r(" ")}function p(t,n){d<0&&(d=0),"saving"===t?(h="saving",r()):(v="error"===t,0===d&&(h=v?"error":"good",v?e.error("app:error:server",[n.responseText||n]):g&&setTimeout(l,g),r()))}function f(e){var n=webix.dp(e);n&&(t.on(n,"onAfterDataSend",u),t.on(n,"onAfterSaveError",function(e,t,n){return s(n)}),t.on(n,"onAfterSave",a))}var h="good",d=0,v=!1,g=n.expire;g||!1===g||(g=2e3);var w=n.texts||o,y=n.icons||i;"string"==typeof n&&(n={target:n}),e.setService("status",{getStatus:c,setStatus:p,track:f}),n.remote&&t.on(webix,"onRemoteCall",u),n.ajax&&t.on(webix,"onBeforeAjax",function(e,t,n,r,i,o,a){u(a)}),n.data&&f(n.data)}t.a=r;var i={good:"check",error:"warning",saving:"refresh fa-spin"},o={good:"Ok",error:"Error",saving:"Connecting..."}},function(e,t,n){"use strict";function r(e,t,n){n=n||{};var r=n.storage,i=r?r.get("theme")||"flat-default":n.theme||"flat-default",o={getTheme:function(){return i},setTheme:function(t,n){for(var o=t.split("-"),a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s].getAttribute("title");u&&(u===t||u===o[0]?a[s].disabled=!1:a[s].disabled=!0)}webix.skin.set(o[0]),webix.html.removeCss(document.body,"theme-"+i),webix.html.addCss(document.body,"theme-"+t),i=t,r&&r.put("theme",t),n||e.refresh()}};e.setService("theme",o),o.setTheme(i,!0)}t.a=r},function(e,t,n){"use strict";function r(e,t,n){for(var r=0;r<n.length;r++)e.setParam(n[r],t[r+1]?t[r+1].page:"")}function i(e,t,n){var i=n.route||n;t.on(e,"app:urlchange",function(e,n){t===e&&(r(t,n,i),n.splice(1,i.length))}),t.on(e,"app:paramchange",function(e,n,r,o){if(t===e&&o)for(var a=0;a<i.length;a++)if(i[a]===n)return t.show([a,r]),!1}),r(t,t.getUrl(),i)}t.a=i},function(e,t,n){"use strict";function r(e,t,n){function r(e,t){e===o?(p.logout(),t.redirect=s):e===i||p.getStatus()||(t.redirect=i)}n=n||{};var i=n.login||"/login",o=n.logout||"/logout",a=n.afterLogin||e.config.start,s=n.afterLogout||"/login",u=n.ping||3e5,c=n.model,l=n.user,p={getUser:function(){return l},getStatus:function(e){return e?c.status().catch(function(){return null}).then(function(e){l=e}):null!==l},login:function(t,n){return c.login(t,n).then(function(t){if(l=t,!t)throw"Access denied";e.show(a)})},logout:function(){return l=null,c.logout()}};e.setService("user",p),e.attachEvent("app:guard",function(e,t,n){return void 0===l&&(n.confirm=p.getStatus(!0).then(function(t){return r(e,n)})),r(e,n)}),u&&setInterval(function(){return p.getStatus(!0)},u)}t.a=r},function(e,t,n){"use strict";function r(){return webix.ajax().post("/server/login/status").then(function(e){return e.json()})}function i(e,t){return webix.ajax().post("/server/login",{user:e,pass:t}).then(function(e){return e.json()})}function o(){return webix.ajax().post("/server/logout").then(function(e){return e.json()})}t.a={status:r,login:i,logout:o}}]);